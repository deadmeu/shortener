{"version":3,"sources":["components/submission/ActionHeader.js","components/submission/SubmitUrl.js","components/submission/LoadingBar.js","components/submission/SubmitContainer.js","components/result/UrlMapping.js","components/result/ResultHeader.js","components/result/ResultContainer.js","App.js","index.js"],"names":["ActionHeader","style","headerStyle","background","color","textAlign","padding","SubmitUrl","state","url","onSubmit","e","preventDefault","props","shortenUrl","setState","onChange","target","name","value","this","formStyle","type","flex","placeholder","className","Component","display","LoadingBar","SubmitContainer","loading","UrlMapping","getStyle","borderBottom","mapping","shortUrl","longUrl","ResultHeader","status","ResultContainer","result","App","a","postData","postParams","method","body","JSON","stringify","headers","fetch","console","log","json","resultData","shortenedUrl","originalUrl","document","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.5c16c62f.chunk.js","sourcesContent":["import React from 'react'\n\nexport default function ActionHeader() {\n  return (\n    <header style={headerStyle}>\n      <h1>Shortener</h1>\n    </header>\n  )\n}\n\nconst headerStyle = {\n  background: '#333',\n  color: '#fff',\n  textAlign: 'center',\n  padding: '10px'\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types';\n\nexport class SubmitUrl extends Component {\n  state = {\n    url: ''\n  }\n\n  onSubmit = (e) => {\n    e.preventDefault();\n    this.props.shortenUrl(this.state.url);\n    this.setState({\n      url: ''\n    });\n  }\n\n  onChange = (e) => this.setState({\n    [e.target.name]: e.target.value\n  });\n\n  render() {\n    return (\n      <form onSubmit={this.onSubmit} style={formStyle}>\n        <input\n          type='text'\n          name='url'\n          style={{ flex: '10', padding: '5px' }}\n          placeholder='Shorten your link'\n          value={this.state.url}\n          onChange={this.onChange}\n        />\n        <input\n          type='submit'\n          value='Submit'\n          className='btn'\n          style={{ flex: 1 }}\n        />\n      </form>\n    )\n  }\n}\n\nconst formStyle = {\n  display: 'flex'\n}\n\nSubmitUrl.propTypes = {\n  shortenUrl: PropTypes.func.isRequired\n}\n\nexport default SubmitUrl\n","import React from 'react'\n\nexport default function LoadingBar() {\n  return (\n    <div>\n      <p>Loading...</p>\n    </div>\n  )\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types';\nimport ActionHeader from './ActionHeader';\nimport SubmitUrl from './SubmitUrl';\nimport LoadingBar from './LoadingBar';\n\nexport class SubmitContainer extends Component {\n  render() {\n    return (\n      <div className=\"submitContainer\">\n        <ActionHeader />\n        <SubmitUrl shortenUrl={this.props.shortenUrl} />\n        {this.props.loading ? <LoadingBar /> : null}\n      </div>\n    )\n  }\n}\n\nSubmitContainer.propTypes = {\n  shortenUrl: PropTypes.func.isRequired,\n  loading: PropTypes.bool.isRequired\n}\n\nexport default SubmitContainer\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nexport class UrlMapping extends Component {\n  getStyle = () => {\n    return {\n      borderBottom: '3px #ccc dotted'\n    }\n  }\n\n  render() {\n    const { shortUrl, longUrl } = this.props.mapping;\n    return (\n      <div style={this.getStyle()}>\n        <p>{shortUrl}</p>\n        <br />\n        <p>links to</p>\n        <br />\n        <p>{longUrl}</p>\n      </div>\n    );\n  }\n}\n\nUrlMapping.propTypes = {\n  mapping: PropTypes.object.isRequired\n}\n\nexport default UrlMapping\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nexport class ResultHeader extends Component {\n  getStyle = () => {\n    return {\n      color: '#f4f4f4',\n      textAlign: 'center',\n      padding: '10px'\n    }\n  }\n\n  render() {\n    return (\n      <header style={this.getStyle()} >\n        <h1>{this.props.status}</h1>\n      </header>\n    )\n  }\n}\n\nResultHeader.propTypes = {\n  status: PropTypes.string.isRequired\n}\n\nexport default ResultHeader\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport UrlMapping from './UrlMapping';\nimport ResultHeader from './ResultHeader';\n\nexport class ResultContainer extends Component {\n\n  render() {\n    const { shortUrl, longUrl, status } = this.props.result;\n    const mapping = {\n      shortUrl,\n      longUrl\n    }\n\n    return (\n      <div className=\"resultContainer\">\n        <ResultHeader status={status} />\n        <UrlMapping mapping={mapping} />\n      </div>\n    );\n  }\n}\n\nResultContainer.propTypes = {\n  result: PropTypes.object.isRequired\n}\n\nexport default ResultContainer\n","import React, { Component } from 'react';\nimport SubmitContainer from './components/submission/SubmitContainer';\n\nimport './App.css';\nimport ResultContainer from './components/result/ResultContainer';\n\nclass App extends Component {\n  state = {\n    result: {\n      shortUrl: 'short123',\n      longUrl: 'long345',\n      status: null\n    },\n    loading: false\n  }\n\n  shortenUrl = async (url) => {\n    this.setState({\n      loading: true\n    });\n\n    const apiUrl = 'https://g5lo9j4ib7.execute-api.ap-southeast-2.amazonaws.com/dev/shorten';\n    const postData = {\n      url\n    };\n    const postParams = {\n      method: 'POST',\n      // mode: 'cors',\n      body: JSON.stringify(postData),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    };\n\n    const result = await fetch(apiUrl, postParams);\n    console.log(result);\n    // TODO set status = 'error'\n    // TODO then switch (result.statuscode)\n    // TODO if 303, success, if xxx, warning (taken)\n    const status = 'success';\n\n    const resultData = await result.json();\n    console.log(JSON.stringify(resultData));\n\n    this.setState({\n      result: {\n        shortUrl: resultData.shortenedUrl,\n        longUrl: resultData.originalUrl,\n        status\n      }\n    });\n\n    // TODO improve this\n    switch (status) {\n      case 'success': document.body.style = 'background: green;'; break;\n      case 'warning': document.body.style = 'background: yellow;'; break;\n      case 'error': document.body.style = 'background: red;'; break;\n      default: break;\n    }\n\n    this.setState({\n      loading: false\n    });\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        {this.state.result.status\n          ? <ResultContainer result={this.state.result} />\n          : null}\n\n        <SubmitContainer shortenUrl={this.shortenUrl} loading={this.state.loading} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}