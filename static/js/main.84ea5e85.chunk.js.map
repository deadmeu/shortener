{"version":3,"sources":["components/submission/ActionHeader.js","components/submission/SubmitUrl.js","components/submission/LoadingBar.js","components/submission/SubmitContainer.js","components/result/UrlMapping.js","components/result/ResultHeader.js","components/result/ResultContainer.js","App.js","index.js"],"names":["ActionHeader","react_default","a","createElement","style","headerStyle","background","color","textAlign","padding","SubmitUrl","_Component","_getPrototypeOf2","_this","Object","classCallCheck","this","_len","arguments","length","args","Array","_key","possibleConstructorReturn","getPrototypeOf","call","apply","concat","state","url","onSubmit","e","preventDefault","props","shortenUrl","setState","onChange","defineProperty","target","name","value","inherits","createClass","key","formStyle","type","flex","placeholder","className","Component","display","LoadingBar","SubmitContainer","submission_SubmitUrl","loading","UrlMapping","getStyle","borderBottom","_this$props$mapping","mapping","shortUrl","longUrl","ResultHeader","status","ResultContainer","_this$props$result","result","result_ResultHeader","result_UrlMapping","App","_callee","postData","postParams","resultData","regenerator_default","wrap","_context","prev","next","method","body","JSON","stringify","headers","Content-Type","fetch","sent","console","log","json","shortenedUrl","originalUrl","t0","document","abrupt","stop","result_ResultContainer","submission_SubmitContainer","ReactDOM","render","src_App_0","getElementById"],"mappings":"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","file":"static/js/main.84ea5e85.chunk.js","sourcesContent":["import React from 'react'\n\nexport default function ActionHeader() {\n  return (\n    <header style={headerStyle}>\n      <h1>Shortener</h1>\n    </header>\n  )\n}\n\nconst headerStyle = {\n  background: '#333',\n  color: '#fff',\n  textAlign: 'center',\n  padding: '10px'\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types';\n\nexport class SubmitUrl extends Component {\n  state = {\n    url: ''\n  }\n\n  onSubmit = (e) => {\n    e.preventDefault();\n    this.props.shortenUrl(this.state.url);\n    this.setState({\n      url: ''\n    });\n  }\n\n  onChange = (e) => this.setState({\n    [e.target.name]: e.target.value\n  });\n\n  render() {\n    return (\n      <form onSubmit={this.onSubmit} style={formStyle}>\n        <input\n          type='text'\n          name='url'\n          style={{ flex: '10', padding: '5px' }}\n          placeholder='Shorten your link'\n          value={this.state.url}\n          onChange={this.onChange}\n        />\n        <input\n          type='submit'\n          value='Submit'\n          className='btn'\n          style={{ flex: 1 }}\n        />\n      </form>\n    )\n  }\n}\n\nconst formStyle = {\n  display: 'flex'\n}\n\nSubmitUrl.propTypes = {\n  shortenUrl: PropTypes.func.isRequired\n}\n\nexport default SubmitUrl\n","import React from 'react'\n\nexport default function LoadingBar() {\n  return (\n    <div>\n      <p>Loading...</p>\n    </div>\n  )\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types';\nimport ActionHeader from './ActionHeader';\nimport SubmitUrl from './SubmitUrl';\nimport LoadingBar from './LoadingBar';\n\nexport class SubmitContainer extends Component {\n  render() {\n    return (\n      <div className=\"submitContainer\">\n        <ActionHeader />\n        <SubmitUrl shortenUrl={this.props.shortenUrl} />\n        {this.props.loading ? <LoadingBar /> : null}\n      </div>\n    )\n  }\n}\n\nSubmitContainer.propTypes = {\n  shortenUrl: PropTypes.func.isRequired,\n  loading: PropTypes.bool.isRequired\n}\n\nexport default SubmitContainer\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nexport class UrlMapping extends Component {\n  getStyle = () => {\n    return {\n      borderBottom: '3px #ccc dotted'\n    }\n  }\n\n  render() {\n    const { shortUrl, longUrl } = this.props.mapping;\n    return (\n      <div style={this.getStyle()}>\n        <p>{shortUrl}</p>\n        <br />\n        <p>links to</p>\n        <br />\n        <p>{longUrl}</p>\n      </div>\n    );\n  }\n}\n\nUrlMapping.propTypes = {\n  mapping: PropTypes.object.isRequired\n}\n\nexport default UrlMapping\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nexport class ResultHeader extends Component {\n  getStyle = () => {\n    return {\n      color: '#f4f4f4',\n      textAlign: 'center',\n      padding: '10px'\n    }\n  }\n\n  render() {\n    return (\n      <header style={this.getStyle()} >\n        <h1>{this.props.status}</h1>\n      </header>\n    )\n  }\n}\n\nResultHeader.propTypes = {\n  status: PropTypes.string.isRequired\n}\n\nexport default ResultHeader\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport UrlMapping from './UrlMapping';\nimport ResultHeader from './ResultHeader';\n\nexport class ResultContainer extends Component {\n\n  render() {\n    const { shortUrl, longUrl, status } = this.props.result;\n    const mapping = {\n      shortUrl,\n      longUrl\n    }\n\n    return (\n      <div className=\"resultContainer\">\n        <ResultHeader status={status} />\n        <UrlMapping mapping={mapping} />\n      </div>\n    );\n  }\n}\n\nResultContainer.propTypes = {\n  result: PropTypes.object.isRequired\n}\n\nexport default ResultContainer\n","import React, { Component } from 'react';\nimport SubmitContainer from './components/submission/SubmitContainer';\n\nimport './App.css';\nimport ResultContainer from './components/result/ResultContainer';\n\nclass App extends Component {\n  state = {\n    result: {\n      shortUrl: 'short123',\n      longUrl: 'long345',\n      status: null\n    },\n    loading: false\n  }\n\n  shortenUrl = async (url) => {\n    this.setState({\n      loading: true\n    });\n\n    const apiUrl = 'https://g5lo9j4ib7.execute-api.ap-southeast-2.amazonaws.com/dev/shorten';\n    const postData = {\n      url\n    };\n    const postParams = {\n      method: 'POST',\n      // mode: 'cors',\n      body: JSON.stringify(postData),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    };\n\n    const result = await fetch(apiUrl, postParams);\n    console.log(result);\n    // TODO set status = 'error'\n    // TODO then switch (result.statuscode)\n    // TODO if 303, success, if xxx, warning (taken)\n    const status = 'success';\n\n    const resultData = await result.json();\n    console.log(JSON.stringify(resultData));\n\n    this.setState({\n      result: {\n        shortUrl: resultData.shortenedUrl,\n        longUrl: resultData.originalUrl,\n        status\n      }\n    });\n\n    // TODO improve this\n    switch (status) {\n      case 'success': document.body.style = 'background: green;'; break;\n      case 'warning': document.body.style = 'background: yellow;'; break;\n      case 'error': document.body.style = 'background: red;'; break;\n      default: break;\n    }\n\n    this.setState({\n      loading: false\n    });\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        {this.state.result.status\n          ? <ResultContainer result={this.state.result} />\n          : null}\n\n        <SubmitContainer shortenUrl={this.shortenUrl} loading={this.state.loading} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}